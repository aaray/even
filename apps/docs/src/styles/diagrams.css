/**
 * Diagram Styles
 *
 * Responsive styling for Mermaid diagrams and the DiagramViewer component.
 */

/* Diagram Container */
.diagram-container {
	width: 100%;
	overflow: hidden;
	border-radius: 0.5rem;
	background-color: rgb(24 24 27); /* zinc-900 */
	border: 1px solid rgb(39 39 42); /* zinc-800 */
}

/* Responsive sizing */
@media (max-width: 640px) {
	.diagram-container {
		min-height: 200px;
	}

	.diagram-viewer-controls {
		flex-direction: column;
		gap: 0.5rem;
	}

	.diagram-viewer-controls button {
		width: 100%;
	}
}

@media (min-width: 641px) and (max-width: 1024px) {
	.diagram-container {
		min-height: 300px;
	}
}

@media (min-width: 1025px) {
	.diagram-container {
		min-height: 400px;
	}
}

/* Mermaid SVG styling */
.diagram-container svg {
	max-width: 100%;
	height: auto;
}

/* Dark mode adjustments for Mermaid */
.diagram-container .nodeLabel {
	color: rgb(228 228 231); /* zinc-200 */
}

.diagram-container .edgeLabel {
	color: rgb(161 161 170); /* zinc-400 */
	background-color: rgb(24 24 27); /* zinc-900 */
	padding: 0.125rem 0.25rem;
}

/* Clickable nodes */
.diagram-container .node {
	cursor: pointer;
	transition: opacity 0.2s ease;
}

.diagram-container .node:hover {
	opacity: 0.8;
}

/* Diagram zoom controls */
.diagram-zoom-controls {
	display: flex;
	gap: 0.25rem;
	padding: 0.5rem;
	background: rgb(39 39 42 / 0.8); /* zinc-800 with transparency */
	border-radius: 0.375rem;
	backdrop-filter: blur(4px);
}

.diagram-zoom-controls button {
	padding: 0.375rem 0.75rem;
	font-size: 0.875rem;
	border-radius: 0.25rem;
	background: rgb(63 63 70); /* zinc-700 */
	color: rgb(228 228 231); /* zinc-200 */
	border: none;
	cursor: pointer;
	transition: background-color 0.15s ease;
}

.diagram-zoom-controls button:hover {
	background: rgb(82 82 91); /* zinc-600 */
}

.diagram-zoom-controls button:active {
	background: rgb(113 113 122); /* zinc-500 */
}

/* Loading skeleton */
.diagram-skeleton {
	width: 100%;
	height: 300px;
	background: linear-gradient(90deg, rgb(39 39 42) 0%, rgb(63 63 70) 50%, rgb(39 39 42) 100%);
	background-size: 200% 100%;
	animation: skeleton-pulse 1.5s ease-in-out infinite;
	border-radius: 0.5rem;
}

@keyframes skeleton-pulse {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}

/* Print styles */
@media print {
	.diagram-container {
		break-inside: avoid;
		border: 1px solid #ccc;
		background: white;
	}

	.diagram-zoom-controls {
		display: none;
	}

	.diagram-container svg {
		filter: none;
	}
}

/* High contrast mode */
@media (prefers-contrast: high) {
	.diagram-container {
		border-width: 2px;
	}

	.diagram-container .node {
		stroke-width: 2px;
	}
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	.diagram-skeleton {
		animation: none;
		background: rgb(39 39 42);
	}

	.diagram-container .node {
		transition: none;
	}
}
